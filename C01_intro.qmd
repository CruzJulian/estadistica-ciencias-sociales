---
title: "Introducción"
subtitle: "Introducción al mundo cuantitativo"
author: "CruzJulián"

lang: "es-co"

---


```{r, echo=FALSE, message=FALSE, warning=FALSE}
## antecedentes

library("ggplot2")
library("dplyr")
library("knitr")

opts_chunk$set(echo=FALSE, message=FALSE, results='markup', warning=FALSE, fig.show = "asis", fig.height = 3, fig.width = 8)


theme_set(theme_minimal())


```



# Preámbulo

## Expectativas

Problemas que vamos a tener cuando seamos grandes.

 - Excel

 - Datos grandes.

 - Ir a ciegas con un análisis de datos.

 - No saber el idioma de los datos.

 - No entender un modelo

 - La medición de los humanos

## Información

:::::::::::::: {.columns}
::: {.column}

 - ¿Por qué queremos procesar información?

 - ¿Existe la verdad?
 
 - ¿Cómo se trata la verdad en la modernidad?

 - ¿Cómo se trata la verdad en la postmodernidad?


:::
::: {.column}

 - ¿Qué es la información?

 - ¿Queremos ciencias políticas o políticas científicas?

 - ¿Qué es un modelo científico?


:::
::::::::::::::

## Escenarios de datos

 - ¿Qué son los datos?

 - ¿Qué son las variables?

 - ¿Qué son los individuos?

## Primera actividad: ¿Cómo son los datos?

En muchos contextos el tema de los datos implica programación. Esto genera una impresión lejana en el ámbito de las ciencias sociales. La creación de brechas tecnológicas aleja al científico social del análisis de datos.

Es normal tener una resistencia en el desarrollo de competencias cuantitativas. Las metodologías de análisis de información conducen a lo cuantitativo de manera inevitable. El desarrollo de las habilidades no solo es indispensable para la investigación, sino para la vida profesional.

El acercamiento del científico social a lo cuantitativo comprende el uso de herramientas muy básicas.

La reconceptualización del trabajo con datos resulta necesaria.


```{r}
tibble(
  genero = sample(c("M", "F"), 100, replace = TRUE),
  edad = rnorm(100, 0, 1) + if_else(genero == "M", 16.5, 18.5)
) -> tb_data_inventada

tb_data_inventada %>% head(25) %>% 
  mutate(edad = round(edad, 1), X = rep(1:5, each = 5), Y = rep(1:5, 5)) %>% 
  ggplot +
  aes(label = edad, colour = genero, x = X, y = Y) +
  geom_text() +
  scale_color_discrete(guide = NULL) +
  theme_void()

```


Podemos ver los datos como puntos en el eje de la edad.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1) +
  geom_point() +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  theme_minimal()



```

Podemos diseminarlos verticalmente para verlos mejor.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1) +
  geom_jitter() +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  theme_minimal()



```


Podemos trazar líneas imaginarias para dividirlos en partes iguales.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1) +
  geom_vline(aes(xintercept = median(edad))) +
  geom_jitter(alpha = 0.2) +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  theme_minimal()



```

Usando más líneas imaginarias podemos dividirlos en cuatro partes iguales.

```{r}
tb_data_inventada %>% pull(edad) %>% quantile() -> q_edad

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1) +
  geom_vline(xintercept = q_edad) +
  geom_jitter(alpha = 0.2) +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  theme_minimal()

```

Conformamos un gráfico de caja y bigotes.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1) +
  geom_boxplot() +
  geom_jitter(alpha = 0.2) +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  theme_minimal()



```

Iniciamos de nuevo, desde el principio añadiendo el color del género.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1, colour = genero) +
  geom_point() +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  scale_color_discrete(name = "Género") +
  theme_minimal() +
  theme(legend.position = "bottom")



```


Añadiendo espacio vertical se visualiza una tendencia.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = 1, colour = genero) +
  geom_jitter() +
  scale_y_continuous(breaks = NULL, name = "") +
  scale_x_continuous(name = "Edad") +
  scale_color_discrete(name = "Género") +
  theme_minimal() +
  theme(legend.position = "bottom")



```

Organizamos los datos verticalemnte por género.

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = genero, colour = genero) +
  geom_jitter() +
  scale_y_discrete(name = "Género") +
  scale_x_continuous(name = "Edad") +
  scale_color_discrete(guide = NULL) +
  theme(legend.position = "bottom")



```

Una caja para cada género es lo apropiado. ¿Podemos ver ahora la tendencia?

```{r}

tb_data_inventada %>% 
  ggplot() +
  aes(x = edad, y = genero, colour = genero, fill = genero) +
  geom_boxplot(alpha = 0.2) +
  geom_jitter(alpha = 0.2) +
  scale_y_discrete(name = "Género") +
  scale_x_continuous(name = "Edad") +
  scale_color_discrete(guide = NULL) +
  scale_fill_discrete(guide = NULL) +
  theme(legend.position = "bottom")



```

# Tipos de datos

## Tendencias

El análisis de datos no genera afirmaciones individuales. Se identifican comportamientos globales en torno a un fenómeno, que no corresponden al comportamiento de los individuos de manera puntual. Las tendencias son comportamientos globales, que los individuos acatan probablemente.

## Individuos

Son unidades de análisis sobre las cuales vamos a generar un modelo. Son el sujeto de nuestra teoría. 

## Variables

Una _variable_ es una característica observable o medible de un individuo, que se describe acorde a una escala de medición bien definida. Cada rasgo, aspecto o característica de una población constituye una variable.

## Tipos de variable

 - Variables categóricas

 - Variables numéricas

 - Variables temporales


## Variables categóricas

Las _variables cualitativas_ son aquellas que se expresan en forma verbal como categorías o atributos.
El género, la afiliación política, la nacionalidad y la profesión son ejemplos de variables
cualitativas.

## Variables numéricas

Las _variables cuantitativas_ son aquellas que varían en términos de cantidad y se registran o expresan en forma numérica. La edad, el peso, la estatura, la temperatura y el salario son ejemplos de variables cuantitativas. A su vez, estas variables se clasifican como sigue:

 - Variables discretas: no admiten siempre un valor intermedio entre dos valores cualesquiera de la variable. Por ejemplo, el número de hijos de una persona es una variable cuantitativa discreta.

 - Variables continuas: siempre admiten un valor intermedio entre dos valores cualesquiera de la variable. Por ejemplo, el salario de un empleado medido en millones de pesos es una variable cuantitativa continua.


## Medición

La _medición_ es un proceso mediante el cual se asignan valores cuantitativos o cualitativos a los atributos de los elementos objeto de estudio, de acuerdo a unas reglas claramente preestablecidas.

## Escalas de medición

Una _escala de medición_ es un esquema específico para asignar símbolos o números con el objeto de designar los valores de una variable.

 - Nominal
 - Ordinal
 - Intervalo
 - Razón

## Escalas categóricas

**Escala nominal:** La _escala nominal_ es aquella donde se clasifican los individuos en categorías distintas. Consiste en agrupar los individuos de acuerdo a alguna cualidad que los hagan propios de una categoría determinada.

**Escala ordinal:** La _escala ordinal_ es aquella donde se clasifican las unidades de observación en categrías. Estas categorías poseen una posición con relación a la característica que miden. Así, es posible conocer el orden de las categorías pero no la distancia que hay entre las posiciones.

## Escalas numéricas

**Escala de intervalo:** La _escala de intervalo_ es aquella donde se ordenan los elementos según la magnitud del atributo que representan y se proveen intervalos iguales entre las unidades de medida. No posee un cero absoluto, dado que es establecido por convención de forma arbitraria por los expertos en el área de estudio; el 0 no implica la ausencia del atributo.

**Escala de razón:** Por último, la _escala de razón_ es aquella donde el punto 0 no es arbitrario y corresponde a una total ausencia de la característica observada. 

# Visualización

Iniciamos el tema de visualización de datos con una lectura refrescante: [Gráficas para la ciencia y ciencia para las gráficas](https://culturacientifica.com/2019/04/25/graficas-para-la-ciencia-y-ciencia-para-las-graficas/)

## ¿Por qué visualización? 

 - [El cuarteto de Anscombe](https://en.wikipedia.org/wiki/Anscombe%27s_quartet)
 - [Seeing theory](https://seeing-theory.brown.edu)

## Veamos ejemplos

 - [Information is beautiful](https://informationisbeautiful.net/)
 - [gapmminder](https://www.gapminder.org/tools)
 - [shiny:](https://shiny.rstudio.com/gallery/)
 - [plotly](https://plot.ly/feed)
 - [Beter Life Index OECD](https://www.oecd.org/en/data/dashboards.html)

 - [Top 10 Countries by Inflation Rate (1980-2018)](https://www.youtube.com/watch?v=dwZ6B5kalbQ)

## El ejemplo de Napoleón

![](https://www.researchgate.net/profile/Dae-Heung-Jang/publication/327579298/figure/fig1/AS:669684911325187@1536676733297/Minards-map-of-Napoleons-disastrous-Russian-campaign-of-1812.ppm)

Fuente: [Data visualization education using the storytelling with Minard's figurative map](https://www.researchgate.net/publication/327579298_Data_visualization_education_using_the_storytelling_with_Minard's_figurative_map)


## Gráficos tradicionales

![](https://www.addintools.com/documents/excel/images/excel-chart-tools-ribbon-683-186.png)


## Escala de Cleveland y McGill

![](https://culturacientifica.com/app/uploads/2019/04/Figura-2-768x358.png)


## Buenas prácticas de visualización

[Buenas prácticas de la visualización - Víctor Pascual](https://youtu.be/TbE8icMHSzs)

## Gráficos

Los gráficos más comunes utilizados en datos son los siguientes.

1. **Gráfico de barras**: útil para comparar categorías. Variación: **gráfico de lollipop**, donde se usan puntos conectados por líneas en lugar de barras.
   
2. **Gráfico de torta (pastel)**: muestra proporciones. Variación: **gráfico de dona**, que es similar pero con un espacio vacío en el centro.

3. **Histograma**: representa la distribución de frecuencias de una variable cuantitativa. Variación: **gráfico de densidad**, que suaviza las frecuencias en una curva continua para mostrar la distribución de los datos.

4. **Gráfico de dispersión**: muestra la relación entre dos variables cuantitativas. Variación: **gráfico de jitter**, que separa los puntos amontonados para revelar la densidad de los datos.

5. **Boxplot (diagrama de caja y bigotes)**: resume la distribución de una variable. Variación: **gráfico de violín**, que añade una visualización de la densidad en ambos lados del gráfico.

6. **Gráfico de líneas**: útil para visualizar tendencias a lo largo del tiempo. Variación: **gráfico de áreas**, donde el área bajo la línea está sombreada, destacando la magnitud.

7. **Mapa de calor (heatmap)**: visualiza patrones de datos a través de variaciones de color. Variación: **clustered heatmap**, que agrupa los datos por similitud, facilitando la interpretación de patrones.

8. **Gráfico de burbujas**: similar al gráfico de dispersión, pero con el tamaño de las burbujas que representa una tercera variable.

9. **Gráfico de radar (o de araña)**: muestra múltiples variables radiales. Variación: **gráfico de radar de área**, que sombrea el área debajo de los valores para enfatizar la comparación entre categorías.




